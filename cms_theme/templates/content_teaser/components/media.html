{% load static cms_tags cms_theme_tags %}
{% with image_plugin=instance.child_plugin_instances|filter_by_type:"ImagePlugin" %}
    {% with video_plugin=instance.child_plugin_instances|filter_by_type:"VideoPlayerPlugin" %}
        {% if video_plugin %}
            <div class="col-lg-6 d-flex justify-content-center align-items-center">
                <div class="w-100 video-section">{% render_plugin video_plugin.0 %}</div>
            </div>
        {% elif image_plugin %}
            {% if image_plugin|length > 1 %}
                <div class="col-lg-6">
                    <div class="community-section">
                        <div class="image-cluster">
                            {% for image in image_plugin %}
                                <div class="member-card pos-{{ forloop.counter }}">{% render_plugin image %}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% else %}
                <div class="col-lg-6 d-flex justify-content-center">
                    <div class="w-100 text-center">{% render_plugin image_plugin.0 %}</div>
                </div>
            {% endif %}
        {% endif %}
    {% endwith %}
{% endwith %}
